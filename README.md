# OpenClash å¢å¼ºå·¥å…·é›†

<div align="center">
  
![OpenClash Logo](https://raw.githubusercontent.com/vernesong/OpenClash/master/img/logo.png)

[![GitHub stars](https://img.shields.io/github/stars/maxage/openclash?style=flat-square&logo=github)](https://github.com/maxage/openclash/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/maxage/openclash?style=flat-square&logo=github)](https://github.com/maxage/openclash/network)
[![GitHub issues](https://img.shields.io/github/issues/maxage/openclash?style=flat-square&logo=github)](https://github.com/maxage/openclash/issues)
[![GitHub license](https://img.shields.io/github/license/maxage/openclash?style=flat-square)](https://github.com/maxage/openclash/blob/main/LICENSE)
[![OpenWrt](https://img.shields.io/badge/OpenWrt-æ”¯æŒ-blue?style=flat-square&logo=openwrt)](https://openwrt.org/)
[![Mihomo](https://img.shields.io/badge/Mihomo-å…¼å®¹-orange?style=flat-square)](https://github.com/MetaCubeX/mihomo)
[![æœ€åæ›´æ–°](https://img.shields.io/github/last-commit/maxage/openclash?label=æœ€åæ›´æ–°&style=flat-square)](https://github.com/maxage/openclash/commits)
[![Language](https://img.shields.io/badge/è¯­è¨€-ç®€ä½“ä¸­æ–‡-green?style=flat-square)](README.md)

</div>

<p align="center">ğŸš€ ä¸º OpenWrt è·¯ç”±å™¨ä¸Šçš„ OpenClash æä¾›ä¾¿æ·çš„å¢å¼ºå·¥å…·ä¸è§„åˆ™é›†</p>

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ä»‹ç»](#-é¡¹ç›®ä»‹ç»)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [åŠŸèƒ½ç‰¹ç‚¹](#-åŠŸèƒ½ç‰¹ç‚¹)
- [å†…å®¹ç›®å½•](#-å†…å®¹ç›®å½•)
- [ä½¿ç”¨æ–¹æ³•](#-ä½¿ç”¨æ–¹æ³•)
- [å…¼å®¹æ€§](#-å…¼å®¹æ€§)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [æ³¨æ„äº‹é¡¹](#-æ³¨æ„äº‹é¡¹)
- [è´¡çŒ®](#-è´¡çŒ®)
- [è®¸å¯è¯](#-è®¸å¯è¯)
- [ç›¸å…³é¡¹ç›®](#-ç›¸å…³é¡¹ç›®)
- [æ›´æ–°æ—¥å¿—](#-æ›´æ–°æ—¥å¿—)
- [è”ç³»æ–¹å¼](#-è”ç³»æ–¹å¼)

## ğŸ“‘ é¡¹ç›®ä»‹ç»

è¿™æ˜¯ä¸€ä¸ªä¸º OpenClash ç”¨æˆ·å‡†å¤‡çš„å¢å¼ºå·¥å…·é›†ï¼Œæä¾›äº†æ›´ä¾¿æ·ã€æ›´å¼ºå¤§çš„ä½¿ç”¨ä½“éªŒã€‚ä¸»è¦åŒ…æ‹¬è‡ªåŠ¨åŒ–æ›´æ–°å·¥å…·ã€é…ç½®ç”Ÿæˆå™¨å’Œè‡ªç”¨è§„åˆ™é›†ç­‰å†…å®¹ã€‚é€šè¿‡è¿™äº›å·¥å…·ï¼Œæ‚¨å¯ä»¥æ›´è½»æ¾åœ°ç®¡ç† OpenClashï¼Œæ— éœ€ç¹ççš„æ‰‹åŠ¨æ“ä½œå’Œé…ç½®ã€‚

> [OpenClash](https://github.com/vernesong/OpenClash) æ˜¯ä¸€ä¸ªå¯è¿è¡Œåœ¨ OpenWrt ä¸Šçš„ Clash å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¤šç§ä»£ç†åè®®ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œæ˜“ç”¨çš„ç•Œé¢ã€‚

<details>
<summary><b>ğŸ† ä¸ºä»€ä¹ˆé€‰æ‹©æœ¬é¡¹ç›®ï¼Ÿ</b></summary>

- **ç®€åŒ–æ“ä½œ**ï¼šè‡ªåŠ¨åŒ–è„šæœ¬å‡å°‘æ‰‹åŠ¨æ“ä½œï¼ŒèŠ‚çœæ—¶é—´
- **ç¨³å®šå¯é **ï¼šç»è¿‡æµ‹è¯•çš„å·¥å…·å’Œè§„åˆ™ï¼Œä¿è¯ç¨³å®šæ€§
- **æŒç»­æ›´æ–°**ï¼šå®šæœŸæ›´æ–°è„šæœ¬å’Œè§„åˆ™ï¼Œè·Ÿè¿›ä¸Šæ¸¸é¡¹ç›®å˜åŒ–
- **å…¼å®¹æ€§å¥½**ï¼šé€‚é…å¤šç§ OpenWrt è®¾å¤‡å’Œ OpenClash ç‰ˆæœ¬
- **å®Œå…¨å¼€æº**ï¼šéµå¾ª MIT è®¸å¯ï¼Œä»£ç å…¬å¼€é€æ˜

</details>

## âš¡ å¿«é€Ÿå¼€å§‹

```bash
# ä¸‹è½½å¹¶è¿è¡Œ Mihomo å†…æ ¸æ›´æ–°è„šæœ¬
curl -sL https://raw.githubusercontent.com/maxage/openclash/main/openclash/update_mihome.sh | sh
```

<details>
<summary><b>ğŸ–¼ï¸ è„šæœ¬ç•Œé¢é¢„è§ˆ</b></summary>
<p align="center">ï¼ˆè¯·åœ¨æ­¤å¤„æ·»åŠ è„šæœ¬è¿è¡Œç•Œé¢æˆªå›¾ï¼‰</p>
</details>

## ğŸš€ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ”„ Mihomo (Clash.Meta) å†…æ ¸è‡ªåŠ¨æ›´æ–°

- **[update_mihome.sh](./openclash/update_mihome.sh)**: è‡ªåŠ¨ä¸‹è½½å¹¶æ›´æ–° Mihomo å†…æ ¸è„šæœ¬
- æ”¯æŒå¤šå¹³å°å¤šæ¶æ„ï¼Œè‡ªåŠ¨é€‚é…å„ç§è®¾å¤‡
- è‡ªåŠ¨å¤‡ä»½åŸæœ‰æ–‡ä»¶ï¼Œé¿å…æ›´æ–°å¤±è´¥å¯¼è‡´çš„é—®é¢˜
- æ”¯æŒ GitHub Token é…ç½®ï¼Œè§£å†³ API é™æµ
- äº¤äº’å¼èœå•ï¼Œæ–¹ä¾¿é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬

<details>
<summary><b>ğŸ” æ”¯æŒçš„ç³»ç»Ÿå’Œæ¶æ„</b></summary>

| ç³»ç»Ÿ | æ¶æ„ |
|------|------|
| linux | amd64, arm64, armv7, armv6, armv5, 386, mips, mipsle, mips64, mips64le |
| darwin | amd64, arm64 |
| windows | amd64, 386 |
| freebsd | amd64, 386 |

</details>

### ğŸ“‹ è‡ªç”¨è§„åˆ™é›†

- ç²¾å¿ƒæ•´ç†çš„åˆ†æµè§„åˆ™ï¼Œé€‚åˆä¸­å›½å¤§é™†ç”¨æˆ·
- é’ˆå¯¹å¸¸ç”¨æœåŠ¡è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæä¾›æ›´ç²¾å‡†çš„åˆ†æµä½“éªŒ
- æŒç»­æ›´æ–°ï¼Œç¡®ä¿è§„åˆ™çš„æœ‰æ•ˆæ€§

<details>
<summary><b>ğŸ” è§„åˆ™é›†åˆ†ç±»</b></summary>

- **åŸºç¡€è§„åˆ™**ï¼šå¿…è¦çš„ç½‘ç«™å’Œåº”ç”¨åˆ†æµè§„åˆ™
- **å¢å¼ºè§„åˆ™**ï¼šé’ˆå¯¹ç‰¹å®šåœºæ™¯ä¼˜åŒ–çš„è§„åˆ™
- **è‡ªå®šä¹‰è§„åˆ™**ï¼šå¯æ ¹æ®ä¸ªäººéœ€æ±‚å®šåˆ¶çš„è§„åˆ™æ¨¡æ¿

</details>

### ğŸ”§ å…¶ä»–å·¥å…·

- **OpenClash é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨**ï¼ˆå¼€å‘ä¸­ï¼‰ï¼š
  - æ ¹æ®ç”¨æˆ·éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶
  - æ”¯æŒå¤šç§ä»£ç†åè®®å’Œåˆ†æµç­–ç•¥

- **è§„åˆ™è½¬æ¢å·¥å…·**ï¼ˆè®¡åˆ’ä¸­ï¼‰ï¼š
  - è½¬æ¢ä¸åŒæ ¼å¼çš„è§„åˆ™ï¼Œå…¼å®¹å„ç§å®¢æˆ·ç«¯
  - æ‰¹é‡å¤„ç†å’Œä¼˜åŒ–è§„åˆ™é›†

- **æ€§èƒ½ä¼˜åŒ–è„šæœ¬**ï¼ˆè®¡åˆ’ä¸­ï¼‰ï¼š
  - åˆ†æå¹¶ä¼˜åŒ– OpenClash è¿è¡Œæ€§èƒ½
  - æä¾›å†…å­˜å’Œ CPU ä½¿ç”¨å»ºè®®

## ğŸ“¦ å†…å®¹ç›®å½•

| ç›®å½•/æ–‡ä»¶ | æè¿° | çŠ¶æ€ |
|----------|------|------|
| [/openclash/update_mihome.sh](./openclash/update_mihome.sh) | Mihomo (Clash.Meta) å†…æ ¸è‡ªåŠ¨æ›´æ–°è„šæœ¬ | âœ… å¯ç”¨ |
| [/openclash/README.md](./openclash/README.md) | æ›´æ–°è„šæœ¬çš„è¯¦ç»†è¯´æ˜æ–‡æ¡£ | âœ… å®Œæˆ |
| [/rules/](./rules/) | è‡ªç”¨è§„åˆ™é›†åˆ | ğŸ”„ æ•´ç†ä¸­ |
| [/configs/](./configs/) | é¢„è®¾é…ç½®æ¨¡æ¿ | ğŸš§ å¼€å‘ä¸­ |
| [/tools/](./tools/) | è¾…åŠ©å·¥å…·é›† | ğŸš§ å¼€å‘ä¸­ |

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

### Mihomo å†…æ ¸æ›´æ–°

åœ¨ OpenWrt ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
curl -sL https://raw.githubusercontent.com/maxage/openclash/main/openclash/update_mihome.sh | sh
```

æˆ–è€…ä¸‹è½½åæœ¬åœ°è¿è¡Œï¼š

```bash
wget https://raw.githubusercontent.com/maxage/openclash/main/openclash/update_mihome.sh -O update_mihome.sh
chmod +x update_mihome.sh
./update_mihome.sh
```

æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [openclash/README.md](./openclash/README.md)ã€‚

### è‡ªå®šä¹‰è§„åˆ™ä½¿ç”¨æ–¹æ³•

1. åœ¨ OpenClash ä¸­å¯¼å…¥è‡ªå®šä¹‰è§„åˆ™ï¼š
   - è¿›å…¥ OpenClash ç®¡ç†ç•Œé¢
   - é€‰æ‹©"é…ç½®æ–‡ä»¶ç®¡ç†" â†’ "è§„åˆ™ç®¡ç†"
   - æ·»åŠ è§„åˆ™é“¾æ¥ï¼š`https://raw.githubusercontent.com/maxage/openclash/main/rules/[è§„åˆ™æ–‡ä»¶å]`

2. åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨è§„åˆ™ï¼š
   ```yaml
   rule-providers:
     custom:
       type: http
       behavior: classical
       url: "https://raw.githubusercontent.com/maxage/openclash/main/rules/[è§„åˆ™æ–‡ä»¶å]"
       path: ./rule_providers/custom.yaml
       interval: 86400
   ```

## ğŸ“± å…¼å®¹æ€§

### ç³»ç»Ÿè¦æ±‚

- OpenWrt 18.06 æˆ–æ›´é«˜ç‰ˆæœ¬
- è‡³å°‘ 4MB å¯ç”¨å­˜å‚¨ç©ºé—´
- è‡³å°‘ 64MB RAM

### å·²æµ‹è¯•è®¾å¤‡

| è®¾å¤‡å‹å· | æ¶æ„ | OpenWrt ç‰ˆæœ¬ | çŠ¶æ€ |
|--------|------|-------------|------|
| x86_64 | amd64 | 21.02 | âœ… å®Œå…¨å…¼å®¹ |
| æ ‘è“æ´¾ 4B | arm64 | 22.03 | âœ… å®Œå…¨å…¼å®¹ |
| å°ç±³è·¯ç”±å™¨ 4A | mipsel | 21.02 | âœ… å®Œå…¨å…¼å®¹ |
| NanoPi R2S | arm64 | 21.02 | âœ… å®Œå…¨å…¼å®¹ |

## â“ å¸¸è§é—®é¢˜

<details>
<summary><b>æ›´æ–°è„šæœ¬æŠ¥é”™ "API rate limit exceeded"</b></summary>

è¿™æ˜¯ç”±äº GitHub API é™åˆ¶é€ æˆçš„ã€‚æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š
1. ç­‰å¾…ä¸€å°æ—¶åå†å°è¯•
2. åœ¨è„šæœ¬ä¸­è®¾ç½® GitHub Tokenï¼ˆé€‰æ‹©é€‰é¡¹3ï¼‰
</details>

<details>
<summary><b>å¦‚ä½•æ£€æŸ¥æˆ‘çš„ OpenWrt è®¾å¤‡æ¶æ„ï¼Ÿ</b></summary>

åœ¨ OpenWrt ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
uname -m
```
ç„¶åæ ¹æ®è¾“å‡ºç»“æœæŸ¥çœ‹æ”¯æŒçš„æ¶æ„åˆ—è¡¨ã€‚
</details>

<details>
<summary><b>æ›´æ–°å Meta å†…æ ¸æ— æ³•å¯åŠ¨</b></summary>

è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤ä¸‹è½½çš„ç‰ˆæœ¬ä¸æ‚¨çš„ç³»ç»Ÿæ¶æ„åŒ¹é…
2. åœ¨ OpenClash ä¸­é‡æ–°å¯ç”¨ Meta å†…æ ¸
3. æ£€æŸ¥ OpenClash çš„è¿è¡Œæ—¥å¿—ä»¥è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
</details>

<details>
<summary><b>å¦‚ä½•å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼Ÿ</b></summary>

è„šæœ¬ä¼šè‡ªåŠ¨å¤‡ä»½åŸæœ‰çš„ clash_meta æ–‡ä»¶ï¼Œå¤‡ä»½ä½äº `/etc/openclash/core/meta-backup/` ç›®å½•ä¸‹ã€‚æ‚¨å¯ä»¥æ‰‹åŠ¨æ¢å¤ï¼š
```bash
cp /etc/openclash/core/meta-backup/clash_meta_[æ—¶é—´æˆ³] /etc/openclash/core/clash_meta
chmod +x /etc/openclash/core/clash_meta
```
</details>

## ğŸ”” æ³¨æ„äº‹é¡¹

- æ‰€æœ‰å·¥å…·å‡éœ€åœ¨ OpenWrt ç¯å¢ƒä¸‹ä½¿ç”¨
- å¤§éƒ¨åˆ†åŠŸèƒ½éœ€è¦ root æƒé™
- åœ¨ä½¿ç”¨æ›´æ–°è„šæœ¬å‰ï¼Œå»ºè®®å…ˆåœæ­¢ OpenClash æœåŠ¡
- æœ¬é¡¹ç›®ä¸æä¾›ä»»ä½•ä»£ç†æœåŠ¡æˆ–è®¢é˜…é“¾æ¥
- æ›´æ–°å†…æ ¸åï¼Œéœ€è¦åœ¨ OpenClash ä¸­é‡æ–°å¯ç”¨ Meta å†…æ ¸

## ğŸ¤ è´¡çŒ®

æ¬¢è¿å¯¹æœ¬é¡¹ç›®æå‡ºå»ºè®®æˆ–è´¡çŒ®ä»£ç ã€‚è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ–°çš„åˆ†æ”¯ (`git checkout -b feature/your-feature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/your-feature`)
5. åˆ›å»ºä¸€ä¸ª Pull Request

### è´¡çŒ®æŒ‡å—

- éµå¾ªé¡¹ç›®ç°æœ‰çš„ä»£ç é£æ ¼
- ç¡®ä¿æ‰€æœ‰è„šæœ¬éƒ½æœ‰è¯¦ç»†çš„æ³¨é‡Š
- æ·»åŠ æ–°åŠŸèƒ½æ—¶æ›´æ–°ç›¸åº”çš„æ–‡æ¡£
- æ‰€æœ‰æäº¤åº”è¯¥æœ‰æ¸…æ™°çš„æè¿°

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](./LICENSE)ã€‚

## ğŸ“š ç›¸å…³é¡¹ç›®

- [OpenClash](https://github.com/vernesong/OpenClash): OpenWrt ä¸Šçš„ Clash å®¢æˆ·ç«¯
- [Mihomo (Clash.Meta)](https://github.com/MetaCubeX/mihomo): å¢å¼ºç‰ˆ Clash æ ¸å¿ƒ
- [OpenWrt](https://openwrt.org/): ç”¨äºåµŒå…¥å¼è®¾å¤‡çš„ Linux æ“ä½œç³»ç»Ÿ
- [Clash](https://github.com/Dreamacro/clash): åŸç‰ˆ Clash æ ¸å¿ƒ

## ğŸ”„ æ›´æ–°æ—¥å¿—

### 2023-12-30
- æ·»åŠ  Mihomo å†…æ ¸è‡ªåŠ¨æ›´æ–°è„šæœ¬
- åˆ›å»ºåŸºæœ¬é¡¹ç›®ç»“æ„å’Œæ–‡æ¡£

### 2024-01-10
- ä¼˜åŒ– README æ–‡æ¡£
- æ·»åŠ  MIT è®¸å¯è¯
- æ”¹è¿›è„šæœ¬å…¼å®¹æ€§

<details>
<summary><b>æŸ¥çœ‹å®Œæ•´æ›´æ–°å†å²</b></summary>

### 2023-12-01
- é¡¹ç›®åˆå§‹åŒ–
- å¼€å§‹è§„åˆ’åŠŸèƒ½å’Œç»“æ„
</details>

## ğŸ“ è”ç³»æ–¹å¼

- GitHub Issue: [æäº¤é—®é¢˜](https://github.com/maxage/openclash/issues)
- ç”µå­é‚®ä»¶: [your-email@example.com](mailto:your-email@example.com)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª â­ Star!**

<br>
<sub>ğŸ“ƒ README æœ€åæ›´æ–°: 2024-01-15</sub>

</div>
