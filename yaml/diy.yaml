# Clash é…ç½®æ¨¡æ¿ - By Gemini
# ä½¿ç”¨æ–¹æ³•ï¼šå°†æ­¤æ–‡ä»¶ä¸Šä¼ åˆ° Gist æˆ–å…¶ä»–å¯ç›´é“¾è®¿é—®çš„åœ°æ–¹ã€‚
# åœ¨è®¢é˜…è½¬æ¢å·¥å…·ä¸­ï¼Œå°†æ­¤æ–‡ä»¶çš„ URL å¡«å…¥â€œè¿œç¨‹é…ç½®â€æˆ–â€œæ¨¡æ¿â€ä¸€æ ã€‚

port: 7890
socks-port: 7891
mixed-port: 7892
allow-lan: false
bind-address: "*"
mode: rule
log-level: error
ipv6: false
find-process-mode: strict
external-controller: 127.0.0.1:9090
profile:
  store-selected: true
  store-fake-ip: true
unified-delay: true
tcp-concurrent: true
global-ua: clash.meta

sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - Mijia Cloud

ntp:
  enable: true
  write-to-system: false
  server: ntp.aliyun.com
  port: 123
  interval: 30

dns:
  enable: true
  prefer-h3: false
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "+.lan"
    - "+.local"
    - localhost.ptlogin2.qq.com
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "+.googleapis.com"
    - "+.googleapis.cn"
    - alt1-mtalk.google.com
    - alt2-mtalk.google.com
    - alt3-mtalk.google.com
    - alt4-mtalk.google.com
    - alt5-mtalk.google.com
    - alt6-mtalk.google.com
    - alt7-mtalk.google.com
    - alt8-mtalk.google.com
    - mtalk.google.com
  use-hosts: true
  default-nameserver:
    - '114.114.114.114#DIRECT'
    - '223.5.5.5#DIRECT'
    - '119.29.29.29#DIRECT'
    - '180.76.76.76#DIRECT'
    - '180.184.1.1#DIRECT'
  proxy-server-nameserver:
    - 'https://dns.alidns.com/dns-query#DIRECT'
    - 'https://doh.pub/dns-query#DIRECT'
    - 'https://doh.onedns.net/dns-query#DIRECT'
  nameserver:
    - "https://cloudflare-dns.com/dns-query#ğŸŒï¸ä¸»è¦ä»£ç†"
  nameserver-policy:
    "ntp.aliyun.com": "https://dns.alidns.com/dns-query#DIRECT"
    "+.jsdmirror.com": "https://dns.alidns.com/dns-query#DIRECT"
    "fastly.jsdelivr.net": "https://dns.alidns.com/dns-query#DIRECT"
    "proxy.sakuraikaede.com": "https://dns.alidns.com/dns-query#DIRECT"
    "converter-mitce.sakuraikaede.com": "https://dns.alidns.com/dns-query#DIRECT"
    "+.msftconnecttest.com,+.msftncsi.com": "https://cloudflare-dns.com/dns-query#ğŸŒï¸ä¸»è¦ä»£ç†"
    "+.googleapis.com,+.googleapis.cn": "https://cloudflare-dns.com/dns-query#ğŸ”è°·æ­ŒæœåŠ¡"
    "rule-set:Bahamut-Site": "https://cloudflare-dns.com/dns-query#ğŸŒ¸å·´å“ˆå§†ç‰¹"
    "rule-set:Bilibili-Site": "https://dns.alidns.com/dns-query#ğŸ“ºå“”å“©å“”å“©"
    "rule-set:Discord-Site": "https://cloudflare-dns.com/dns-query#ğŸŸé€—é±¼å¹³å°"
    "rule-set:GoogleFCM-Site": "https://cloudflare-dns.com/dns-query#â˜ï¸è°·æ­Œæ¨é€"
    "rule-set:Netflix-Site": "https://cloudflare-dns.com/dns-query#ğŸ“½ï¸å¥ˆé£å½±è§†"
    "rule-set:OpenAI-Site": "https://cloudflare-dns.com/dns-query#ğŸ¤–å¼€æ”¾æ™ºèƒ½"
    "rule-set:Speedtest-Site": "https://cloudflare-dns.com/dns-query#â±ï¸ç½‘ç»œæµ‹é€Ÿ"
    "rule-set:Spotify-Site": "https://cloudflare-dns.com/dns-query#ğŸµå£°ç”°éŸ³ä¹"
    "rule-set:Steam-Site": "https://doh.pub/dns-query#ğŸ®è’¸æ±½å¹³å°"
    "rule-set:Telegram-Site": "https://cloudflare-dns.com/dns-query#âœˆï¸ç”µæŠ¥é€šè®¯"
    "rule-set:TikTok-Site": "https://cloudflare-dns.com/dns-query#ğŸ¶æŠ–éŸ³å›½é™…"
    "rule-set:Apple-Site": "https://doh.pub/dns-query#ğŸè‹¹æœæœåŠ¡"
    "rule-set:Google-Site": "https://cloudflare-dns.com/dns-query#ğŸ”è°·æ­ŒæœåŠ¡"
    "rule-set:Microsoft-Site": "https://doh.pub/dns-query#ğŸ’»å¾®è½¯æœåŠ¡"
    "rule-set:GFWList-Site": "https://cloudflare-dns.com/dns-query#ğŸ§±å¢™å¤–æœåŠ¡"
    "rule-set:China-Site": "https://dns.alidns.com/dns-query#ğŸ‡¨ğŸ‡³å›½å†…æœåŠ¡"

tun:
  enable: true
  stack: system
  auto-route: true
  auto-detect-interface: true
  strict-route: true
  dns-hijack:
    - any:53
  device: SakuraiTunnel
  mtu: 9000
  endpoint-independent-nat: true

proxy-groups:
  - name: "ğŸŒï¸ä¸»è¦ä»£ç†"
    type: select
    proxies: ["â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", DIRECT, REJECT]

  - name: "ğŸ‡¨ğŸ‡³å›½å†…æœåŠ¡"
    type: select
    proxies: [DIRECT, "ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ§±å¢™å¤–æœåŠ¡"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ”è°·æ­ŒæœåŠ¡"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸè‹¹æœæœåŠ¡"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", DIRECT, REJECT]

  - name: "ğŸ’»å¾®è½¯æœåŠ¡"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", DIRECT, REJECT]

  - name: "ğŸŒ¸å·´å“ˆå§†ç‰¹"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ“ºå“”å“©å“”å“©"
    type: select
    proxies: [DIRECT, "ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸŸé€—é±¼å¹³å°"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "â˜ï¸è°·æ­Œæ¨é€"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ“½ï¸å¥ˆé£å½±è§†"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ¤–å¼€æ”¾æ™ºèƒ½"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "â±ï¸ç½‘ç»œæµ‹é€Ÿ"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸµå£°ç”°éŸ³ä¹"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ®è’¸æ±½å¹³å°"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", DIRECT, REJECT]

  - name: "âœˆï¸ç”µæŠ¥é€šè®¯"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "ğŸ¶æŠ–éŸ³å›½é™…"
    type: select
    proxies: ["ğŸŒï¸ä¸»è¦ä»£ç†", "â™¾ï¸è‡ªåŠ¨é€‰æ‹©", "âš–ï¸è´Ÿè½½å‡è¡¡", REJECT]

  - name: "âš–ï¸è´Ÿè½½å‡è¡¡"
    type: load-balance
    url: "https://cp.cloudflare.com"
    interval: 180
    lazy: true
    strategy: consistent-hashing

  - name: "â™¾ï¸è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    url: "https://cp.cloudflare.com"
    interval: 180
    lazy: false

rule-providers:
  Apple-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Apple/Apple-Site.mrs"
    path: ./ruleset/Apple-Site.mrs
    proxy: DIRECT
    interval: 86400

  Apple-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Apple/Apple-IP.mrs"
    path: ./ruleset/Apple-IP.mrs
    proxy: DIRECT
    interval: 86400

  Bahamut-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bahamut/Bahamut-Site.mrs"
    path: ./ruleset/Bahamut-Site.mrs
    proxy: DIRECT
    interval: 86400

  Bilibili-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bilibili/Bilibili-Site.mrs"
    path: ./ruleset/Bilibili-Site.mrs
    proxy: DIRECT
    interval: 86400

  Bilibili-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Bilibili/Bilibili-IP.mrs"
    path: ./ruleset/Bilibili-IP.mrs
    proxy: DIRECT
    interval: 86400

  China-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/China/China-Site.mrs"
    path: ./ruleset/China-Site.mrs
    proxy: DIRECT
    interval: 86400

  China-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/China/China-IP.mrs"
    path: ./ruleset/China-IP.mrs
    proxy: DIRECT
    interval: 86400

  Discord-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Discord/Discord-Site.mrs"
    path: ./ruleset/Discord-Site.mrs
    proxy: DIRECT
    interval: 86400

  GFWList-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/GFWList/GFWList-Site.mrs"
    path: ./ruleset/GFWList-Site.mrs
    proxy: DIRECT
    interval: 86400

  Google-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Google/Google-Site.mrs"
    path: ./ruleset/Google-Site.mrs
    proxy: DIRECT
    interval: 86400

  Google-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Google/Google-IP.mrs"
    path: ./ruleset/Google-IP.mrs
    proxy: DIRECT
    interval: 86400

  GoogleFCM-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/GoogleFCM/GoogleFCM-Site.mrs"
    path: ./ruleset/GoogleFCM-Site.mrs
    proxy: DIRECT
    interval: 86400

  Local-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Local/Local-IP.mrs"
    path: ./ruleset/Local-IP.mrs
    proxy: DIRECT
    interval: 86400

  Microsoft-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Microsoft/Microsoft-Site.mrs"
    path: ./ruleset/Microsoft-Site.mrs
    proxy: DIRECT
    interval: 86400

  Netflix-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Netflix/Netflix-Site.mrs"
    path: ./ruleset/Netflix-Site.mrs
    proxy: DIRECT
    interval: 86400

  Netflix-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Netflix/Netflix-IP.mrs"
    path: ./ruleset/Netflix-IP.mrs
    proxy: DIRECT
    interval: 86400

  OpenAI-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/OpenAI/OpenAI-Site.mrs"
    path: ./ruleset/OpenAI-Site.mrs
    proxy: DIRECT
    interval: 86400

  OpenAI-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/OpenAI/OpenAI-IP.mrs"
    path: ./ruleset/OpenAI-IP.mrs
    proxy: DIRECT
    interval: 86400

  Speedtest-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Speedtest/Speedtest-Site.mrs"
    path: ./ruleset/Speedtest-Site.mrs
    proxy: DIRECT
    interval: 86400

  Spotify-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Spotify/Spotify-Site.mrs"
    path: ./ruleset/Spotify-Site.mrs
    proxy: DIRECT
    interval: 86400

  Spotify-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Spotify/Spotify-IP.mrs"
    path: ./ruleset/Spotify-IP.mrs
    proxy: DIRECT
    interval: 86400

  Steam-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Steam/Steam-Site.mrs"
    path: ./ruleset/Steam-Site.mrs
    proxy: DIRECT
    interval: 86400

  Telegram-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Telegram/Telegram-Site.mrs"
    path: ./ruleset/Telegram-Site.mrs
    proxy: DIRECT
    interval: 86400

  Telegram-IP:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/Telegram/Telegram-IP.mrs"
    path: ./ruleset/Telegram-IP.mrs
    proxy: DIRECT
    interval: 86400

  TikTok-Site:
    type: http
    behavior: domain
    format: mrs
    url: "https://cdn.jsdmirror.com/gh/HosheaPDNX/rule-set@V2.0.0/mihomo/TikTok/TikTok-Site.mrs"
    path: ./ruleset/TikTok-Site.mrs
    proxy: DIRECT
    interval: 86400

rules:
  - "AND,((DST-PORT,443),(NETWORK,UDP)),REJECT"
  - "DOMAIN,ntp.aliyun.com,DIRECT"
  - "DOMAIN,proxy.sakuraikaede.com,DIRECT"
  - "DOMAIN,converter-mitce.sakuraikaede.com,DIRECT"
  - "DOMAIN-KEYWORD,msftconnecttest.com,ğŸŒï¸ä¸»è¦ä»£ç†"
  - "DOMAIN-KEYWORD,msftncsi.com,ğŸŒï¸ä¸»è¦ä»£ç†"
  - "DOMAIN-KEYWORD,googleapis,ğŸ”è°·æ­ŒæœåŠ¡"
  - "RULE-SET,Bahamut-Site,ğŸŒ¸å·´å“ˆå§†ç‰¹"
  - "RULE-SET,Bilibili-Site,ğŸ“ºå“”å“©å“”å“©"
  - "RULE-SET,Discord-Site,ğŸŸé€—é±¼å¹³å°"
  - "RULE-SET,GoogleFCM-Site,â˜ï¸è°·æ­Œæ¨é€"
  - "RULE-SET,Netflix-Site,ğŸ“½ï¸å¥ˆé£å½±è§†"
  - "RULE-SET,OpenAI-Site,ğŸ¤–å¼€æ”¾æ™ºèƒ½"
  - "RULE-SET,Speedtest-Site,â±ï¸ç½‘ç»œæµ‹é€Ÿ"
  - "RULE-SET,Spotify-Site,ğŸµå£°ç”°éŸ³ä¹"
  - "RULE-SET,Steam-Site,ğŸ®è’¸æ±½å¹³å°"
  - "RULE-SET,Telegram-Site,âœˆï¸ç”µæŠ¥é€šè®¯"
  - "RULE-SET,TikTok-Site,ğŸ¶æŠ–éŸ³å›½é™…"
  - "RULE-SET,Apple-Site,ğŸè‹¹æœæœåŠ¡"
  - "RULE-SET,Google-Site,ğŸ”è°·æ­ŒæœåŠ¡"
  - "RULE-SET,Microsoft-Site,ğŸ’»å¾®è½¯æœåŠ¡"
  - "RULE-SET,GFWList-Site,ğŸ§±å¢™å¤–æœåŠ¡"
  - "RULE-SET,China-Site,ğŸ‡¨ğŸ‡³å›½å†…æœåŠ¡"
  - "RULE-SET,Local-IP,DIRECT,no-resolve"
  - "RULE-SET,Bilibili-IP,ğŸ“ºå“”å“©å“”å“©"
  - "RULE-SET,Netflix-IP,ğŸ“½ï¸å¥ˆé£å½±è§†"
  - "RULE-SET,OpenAI-IP,ğŸ¤–å¼€æ”¾æ™ºèƒ½"
  - "RULE-SET,Spotify-IP,ğŸµå£°ç”°éŸ³ä¹"
  - "RULE-SET,Telegram-IP,âœˆï¸ç”µæŠ¥é€šè®¯"
  - "RULE-SET,Apple-IP,ğŸè‹¹æœæœåŠ¡"
  - "RULE-SET,Google-IP,ğŸ”è°·æ­ŒæœåŠ¡"
  - "RULE-SET,China-IP,ğŸ‡¨ğŸ‡³å›½å†…æœåŠ¡"
  - "MATCH,ğŸŒï¸ä¸»è¦ä»£ç†"
